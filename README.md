# DjangoBookingApp
## ðŸ“ÐšÑ€Ð°Ñ‚ÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
RestAPI Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‰Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»:
* Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
* Ð›Ð¾Ð³Ð¸Ð½Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
* ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð½Ð°Ñ‚ Ð´Ð»Ñ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
* Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚
* Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ð¹
* ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ð¾Ñ€ Ð·Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð½Ð°Ñ‚
* Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÐºÐ¾Ð¼Ð½Ð°Ñ‚ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼

---
### âš™ï¸Ð¡Ñ‚ÑÐº
- Django
- DRF
- PostgreSQL
- docker-compose
- django-pytest
### ðŸ”ŒÐ—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
Ð”Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·ÐµÑ‚Ð¾Ñ€Ð¸Ð¹ Ð»ÑŽÐ±Ñ‹Ð¼ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¼ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼, Ð¿Ð¾ÑÐ»Ðµ Ñ‡ÐµÐ³Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ:
1. ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð´ÐµÑ€Ð¸ÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
   ```
   cd booking_app
   ```
2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ Ð¿Ð¾Ð¼Ð¾ÑˆÑŒÑŽ `docker-compose`
    ```
   docker-comopse -f docker-compose.prod.yml up --build
   ```
---
### ðŸ“•Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
Ð’ÑÐµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ API Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð¸ Ð¸Ñ… Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð´Ð¾ÑÑ‚Ñ‹Ð¿Ð½Ñ‹ Ñ‚ÑƒÑ‚ -> [`Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ`](http://127.0.0.1:8000/api/docs/), Ð¿Ð¾ÑÐ»Ðµ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð² Ð´Ð¾ÐºÐµÑ€ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ðµ.
![API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ](images/api_docs.png)
---
## ðŸ“šÐÐµ ÐºÑ€Ð°Ñ‚ÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
Ð”Ð°Ð»ÐµÐµ Ð¿Ñ€Ð¾Ð¹Ð´ÑƒÑÑŒ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð¿ÑƒÐ½ÐºÑ‚Ð°Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð¾Ð¿Ð¸ÑˆÑƒ Ð¸Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ

### ðŸ’ƒðŸ»ÐœÐ¾Ð´ÐµÐ»Ð¸
Ð”Ð»Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ñ‚Ñ€Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸.
1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ - Ð² Ð¢Ð— Ð½ÐµÐ±Ñ‹Ð»Ð¾ ÐºÐ°ÐºÐ¸Ñ…-Ñ‚Ð¾ Ð¾ÑÐ¾Ð±Ñ‹Ñ… Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ðº ÑÑ‚Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð°ÑÑŒ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ `User`

2. ÐšÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ - Ð¾Ð¿Ð¸ÑÐ°Ð½Ð° Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð°Ñ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ. Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¿Ð¾Ð»Ñ:
   * name - Ð½Ð¾Ð¼ÐµÑ€/Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹
   * price_per_day - ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð² ÑÑƒÑ‚ÐºÐ¸. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ñ Ð±Ñ‹Ð» Ð²Ñ‹Ð±Ñ€Ð°Ð½ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Decimal Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½ ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¼ Ð¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ð¼ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸.
   * capacity - Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð¾Ð¶Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ñ… Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ
   ```python
   class Room(models.Model):
    name = models.CharField(
        max_length=100, help_text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ/Ð½Ð¾Ð¼ÐµÑ€ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹", unique=True, blank=False
    )
    price_per_day = models.DecimalField(
        max_digits=10,
        decimal_places=2,
        validators=[MinValueValidator(Decimal("0.01"))],
        help_text="Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð·Ð° ÑÑƒÑ‚ÐºÐ¸",
    )
    capacity = models.IntegerField(
        help_text="ÐšÐ¾Ð»Ð»Ð¸Ñ‡ÐµÑÐ²Ñ‚Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ñ€Ð°ÑÑ‡Ð¸Ñ‚Ð°Ð½Ð° ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°",
        blank=False,
        null=False,
        validators=[MinValueValidator(1)],
    )
   ```
3. Ð‘Ñ€Ð¾Ð½Ð¸ - Ð¾Ð¿Ð¸ÑÐ°Ð½Ð° Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð°Ñ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, Ñ‚ÑƒÑ‚ ÐµÑÑ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ð¹ Ñ Ð¿ÐµÑ€ÐµÑÐ¸Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð´Ð°Ñ‚, Ð½Ð¾ ÐµÐ³Ð¾ Ð¾Ð¿Ð¸ÑˆÑƒ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ðµ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð° Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. 
Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¿Ð¾Ð»Ñ:
      * date_start - Ð´Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°ÐµÐ·Ð´Ð°
      * date_end - Ð´Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹ÐµÐ·Ð´Ð°
      * room - ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ `Room`
      * user - ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ `User`
      * Ð¾Ð±Ðµ ÑÐ²ÑÐ·Ð¸ one-to-one

   ```python
   class Booking(models.Model):
    date_start = models.DateTimeField()
    date_end = models.DateTimeField()
    room = models.ForeignKey(Room, on_delete=models.CASCADE)
    user = models.ForeignKey(User, on_delete=models.CASCADE)

    class Meta:
        constraints = [
            ExclusionConstraint(
                name="exclude_overlapping_booking",
                expressions=[
                    (
                        TsTzRange("date_start", "date_end", RangeBoundary()),
                        RangeOperators.OVERLAPS,
                    ),
                    ("room", RangeOperators.EQUAL),
                ],
            )
        ]

    def __str__(self):
        return f"{self.user.username} â€“ {self.room.name} â€“ {self.date_start:%Y-%m-%d}"
   ```
---
## ðŸ Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð¼Ð½Ð°Ñ‚
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ¼ÐµÑ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¿Ð¾ Ñ†ÐµÐ½Ðµ, Ð¿Ð¾
ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ Ð¼ÐµÑÑ‚.
ÐŸÑ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÐµÐ· Ð»Ð¾Ð³Ð¸Ð½Ð°.
```
**Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ**

ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ñ… Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð² `DRF`.
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `ListAPIView` Ð´Ð»Ñ Ð²Ñ‹Ð´Ð°Ñ‡Ð¸ ÑÐ¿Ð¸ÑÐºÐ° Ð¾Ð±Ñ…ÐµÐºÑ‚Ð¾Ð² Ð¸ `OrderingFilter` Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ `ordering_fields = ["price_per_day", "capacity"]` Ð´Ð»Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ñ†ÐµÐ½Ðµ Ð¸ Ð²Ð¼ÐµÑÑ‚Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸.
Ð­Ð½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ñ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸.
```python
class ShowRoomsApi(ListAPIView):
    queryset = Room.objects.all()
    serializer_class = RoomSerializer
    filter_backends = [OrderingFilter]
    ordering_fields = ["price_per_day", "capacity"]
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ ÐºÐ¾Ð¼Ð½Ð°Ñ‚](images/api_filter_rooms.png)
---
## ðŸ”ŽÐŸÐ¾Ð¸ÑÐº ÐºÐ¾Ð¼Ð½Ð°Ñ‚
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ¼ÐµÑ‚ÑŒ Ð¸ÑÐºÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð² Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¼ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ðµ.
ÐŸÑ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÐµÐ· Ð»Ð¾Ð³Ð¸Ð½Ð°.
```
**Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ**

Ð”Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð¼Ð½Ð°Ñ‚ Ð¿Ð¾ Ð·Ð°Ð´Ð°Ð½Ñ‹Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼ Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚ÐºÐ°Ð¼ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `get_free_rooms` - ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð´Ð°Ñ‚Ñƒ Ð·Ð°ÐµÐ·Ð´Ð° Ð¸ Ð´Ð°Ñ‚Ñƒ Ð²Ñ‹ÐµÐ·Ð´Ð°.
Ð”Ð°Ð»ÐµÐµ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð¾Ð¹ Ð² Djano ORM Ð´ÐµÐ»Ð°ÐµÑ‚ÑÑ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð² Ð±Ð´ Ð½Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ Ð²ÑÐµÑ… Ð¿ÐµÑ€ÐµÑÐµÐºÐ°ÑŽÑ‰Ð¸Ñ…ÑÑ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¹, Ð° Ð·Ð°Ñ‚ÐµÐ¼ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ñ Ñ‚Ð°ÐºÐ¸Ð¼Ð¸ Ð±Ñ€Ð¾Ð½ÑÐ¼Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¸ÑÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‚ÑÑ Ð¸Ñ… Ð¾ÑŽÑ‰ÐµÐ¹ Ð²Ñ‹Ð´Ð°Ñ‡Ð¸.

```python
def get_free_rooms(date_start: datetime, date_end: datetime) -> QuerySet:
    busy_rooms = Booking.objects.filter(
        Q(date_start__lt=date_end) & Q(date_end__gt=date_start)
    ).values_list("room_id", flat=True)
    free_rooms = Room.objects.exclude(id__in=busy_rooms)
    return free_rooms
```

Ð’ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐµÑ€Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ Ñ‚Ð¸Ð¿Ð°Ð¼ Ð¸ Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ð¿Ñ€Ð¸ÑÑƒÐ´ÑÑ‚Ð²ÑƒÑŽÑ‚.
Ð¢Ð°Ðº Ð¶Ðµ Ð¸Ð´ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚ÐºÐ° - Ð´Ð°Ñ‚Ð° Ð·Ð°ÐµÐ·Ð´Ð° Ð½Ðµ Ð¿Ð¾Ð·Ð¶Ð¸ Ð´Ð°Ñ‚Ñ‹ Ð²Ñ‹ÐµÐ·Ð´Ð°, Ð´Ð°Ñ‚Ð° Ð²Ñ‹ÐµÐ·Ð´Ð° Ð½Ðµ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð² Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¼.
ÐžÑ‚ ÑÐµÐ±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð» Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð° Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð²Ð¼ÐµÑÑ‚Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð¼Ð½Ð°Ñ‚, ÑÑ‚Ð¾Ñ‚ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð¾Ð½ Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹.
Ð­Ð½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ñ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸.

```python
class RoomSearchParamsSerializer(serializers.Serializer):
    date_start = serializers.DateTimeField(required=True)
    date_end = serializers.DateTimeField(required=True)
    capacity = serializers.IntegerField(required=False, min_value=0, default=0)

    def validate(self, data):
        if data["date_start"] > data["date_end"]:
            raise serializers.ValidationError(
                "Ð”Ð°Ñ‚Ð° Ð·Ð°ÐµÐ·Ð´Ð° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð·Ð¶Ðµ Ð´Ð°Ñ‚Ñ‹ Ð²Ñ‹ÐµÐ·Ð´Ð°."
            )
        if data["date_end"].date() < date.today():
            raise serializers.ValidationError("Ð”Ð°Ñ‚Ð° Ð²Ñ‹ÐµÐ·Ð´Ð° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð² Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¼.")
        return data
```
ÐšÐ¾Ð´ Ð²ÑÐµÐ³Ð¾ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð°:
```python
class SearchFreeRoomApi(APIView):

    def get(self, request):
        serializer = RoomSearchParamsSerializer(data=request.query_params)
        if not serializer.is_valid():
            return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

        validated = serializer.validated_data
        date_start = validated["date_start"]
        date_end = validated["date_end"]
        capacity = validated["capacity"]
        free_rooms = get_free_rooms(date_start, date_end).filter(capacity__gte=capacity)
        serializer = RoomSerializer(free_rooms, many=True)

        return Response(serializer.data)
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾Ð¸ÑÐº ÐºÐ¾Ð¼Ð½Ð°Ñ‚](images/api_search_rooms.png)
---
## ðŸ”’Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ¼ÐµÑ‚ÑŒ Ð·Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½ÑƒÑŽ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ.
Ð§Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸.
```
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**

Ð Ð°Ð±Ð¾Ñ‚Ð° ÑÑ‚Ð¾Ð³Ð¾ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð° Ð¿Ð¾ÐºÐ°Ð·Ð°Ð»Ð°ÑÑŒ Ð¼Ð½Ðµ ÑÐ°Ð¼Ð¾Ð¹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð¹.

Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð´Ð»Ñ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð½Ð°Ñ‚ ÑƒÐ¶Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ´Ð¸Ð´ÑƒÑ‰ÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð² ÑÑ‚Ð¾Ð¼ ÐºÐ¾Ð´Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿ÐµÑ€Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ,
Ñ‚Ð¾ ÑÑ‚Ð¾Ð¸Ñ‚ Ð²Ð¾Ð¿Ñ€Ð¾Ñ "ÐšÐ°Ðº Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ Ð°Ñ‚Ð¾Ð¼Ð°Ñ€Ð½Ð¾ÑÑ‚ÑŒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ?" - Ð¿Ñ€ÑÑ‚Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ð¾Ð½ Ð¿Ð¾ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñƒ Ð¸ Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐ°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ Ð½Ðµ Ð»ÑƒÑ‡ÑˆÐ¸ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¼ÐµÐ¶Ð´Ñƒ 
Ñ€Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð° Ð¸ Ð·Ð°Ð¿Ð¸ÑÑŒÑŽ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð²Ñ€ÐµÐ¼Ñ Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÑÐ¿ÐµÑ‚ÑŒ Ð²ÐºÐ»Ð¸Ð½Ð¸Ñ‚ÑŒÑÑ ÐµÑ‰Ñ‘ Ð¾Ð´Ð½Ð° Ð±Ñ€Ð¾Ð½ÑŒ. 

Ð˜Ð·Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¸Ð´ÐµÐµÐ¹ Ð±Ñ‹Ð»Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ `atomic`, Ð½Ð¾ Ð¾Ð½ Ð»Ð¸Ð±Ð¾ Ñ‚Ð°Ðº Ð¶Ðµ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð²Ñ€ÐµÐ¼Ñ Ð¼ÐµÐ¶Ð´Ñƒ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð¸ Ð·Ð°Ð¿Ð¸ÑÑŒÑŽ, Ð»Ð¸Ð±Ð¾ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ - Ñ‡Ñ‚Ð¾ ÐµÑ‰Ñ‘ Ñ…ÑƒÐ¶Ðµ.

ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ñ€ÐµÑˆÐµÐ½Ð¸ÐµÐ¼ Ð¾ÐºÐ°Ð·Ð°Ð»Ð¾ÑÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð‘Ð” Ð¸ Ñ‚Ð°ÐºÐ¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð¾Ð¿Ð¸ÑÐ°Ð½ Ð² [Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸](https://docs.djangoproject.com/en/5.1/ref/contrib/postgres/constraints/).

Ð’Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ ÑÐ°Ð¼Ð¾ Ð‘Ð” Ð½Ð° Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð¿ÐµÑ€ÐµÑÐµÐºÐ°ÑŽÑ‰Ð¸Ñ…ÑÑ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð´Ð¸Ð°Ð¿Ð¾Ð·Ð¾Ð½Ð¾Ð² Ð´Ð»Ñ Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð¼ÐµÐ½ÑÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐ¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ñ‹Ñ‚Ð°ÑŽÑ‚ÑÑ ÐµÐ³Ð¾ Ð½Ð°Ñ€ÑƒÑˆÐ¸Ñ‚ÑŒ. 
Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ Ð°Ñ‚Ð¾Ð¼Ð°Ñ€Ð½Ð¾ÑÑ‚ÑŒ ÑÑ‚Ð¾Ð¹ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸.

Ð’ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¸ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¾Ð³Ð»Ð¸ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¸ ÑÑ‚Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ
`permission_classes = [IsAuthenticated]`.
Ð¢Ð°Ðº Ð¶Ðµ Ð¾Ñ‚ ÑÐµÐ±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð» `throttling` Ð½Ð° 100 Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² ÑÑƒÑ‚ÐºÐ¸ Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ IP, Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð·Ð°Ñ‰Ð¸Ñ‚Ñƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°.

Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ñ ÑƒÐ´Ð¾Ð±Ð¾Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ñ‹Ð¼ Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð¼ Ð¸ Ð¿Ñ€ÐµÐ´ÑƒÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð° Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ñ Ð½ÐµÐ¿Ñ€Ð¸Ð´Ð²Ð¸Ð´ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº.


Ð¡Ð°Ð¼ ÐºÐ¾Ð´ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð°:
```python
class CreateBookingApi(APIView):
    permission_classes = [IsAuthenticated]
    throttle_classes = [BookingThrottle]
    serializer_class = BookingCreateSerializer

    def post(self, request):
        serializer = self.serializer_class(data=request.data)
        if serializer.is_valid():
            try:
                with transaction.atomic():
                    serializer.validated_data["user"] = request.user
                    serializer.save()
                    logger.info(
                        f"ÐŸÐ¾Ð»ÑŒÑ‰Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ñ id  {request.user.id} ÑÐ¾Ð·Ð´Ð°Ð» Ð½Ð¾Ð²Ð¾Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ {serializer.data}"
                    )
                    return Response(serializer.data, status=status.HTTP_201_CREATED)
            except ValidationError:
                raise
            # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð¾Ñ‚ postgresql Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¿ÐµÑ€ÐµÑÐ¸ÐºÐ°ÑŽÑ‰Ð¸Ñ…ÑÑ Ð±Ñ€Ð¾Ð½ÐµÐ¹.
            except IntegrityError:
                return Response(
                    {
                        "detail": "ÐšÐ¾Ð¼Ð½Ð°Ñ‚Ð° ÑƒÐ¶Ðµ Ð·Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð´Ð°Ñ‚Ñ‹ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸Ð»Ð¸ Ð²Ñ‹Ð±Ð¸Ñ€ÐµÑ‚Ðµ Ð´Ñ€ÑƒÐ³ÑƒÑŽ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ."
                    },
                    status=status.HTTP_409_CONFLICT,
                )
            except Exception as e:
                logger.error(
                    "Ð’Ð¾ Ð²Ñ€ÐµÐ¼Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½Ðµ Ð¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°:\n"
                    f"user: {request.user}\n"
                    f"data: {request.data}\n"
                    f"error: {str(e)}\n"
                    f"error_type: {type(e)}"
                )
                return Response(
                    {
                        "detail": "Ð¡ÐµÑ€Ð²Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½.\nÐŸÐ¾Ð¶Ð°Ð»Ð¹ÑÑ‚Ð°, Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·."
                    },
                    status=status.HTTP_503_SERVICE_UNAVAILABLE,
                )

        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ñ‚Ð°](images/api_create_booking.png)
---

## ðŸ‘€ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð±Ñ€Ð¾Ð½ÐµÐ¹
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð²Ð¸Ð´ÐµÑ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð±Ñ€Ð¾Ð½Ð¸.
```
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½ `permission_classes = [IsAuthenticated]` Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ. 
ÐŸÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ð½ `get_queryset` Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ð´Ð°Ð²Ð°Ð»Ð¸ÑÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ.
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**

```python
class UserAllBookingApi(ListAPIView):
    permission_classes = [IsAuthenticated]
    queryset = Booking.objects.all().prefetch_related("room")
    serializer_class = BookingSerializer

    def get_queryset(self):
        return Booking.objects.filter(user=self.request.user).prefetch_related("room")
```

---
## ðŸ§™â€â™‚ï¸Ð¡ÑƒÐ¿ÐµÑ€Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
Ð¡ÑƒÐ¿ÐµÑ€ÑŽÐ·ÐµÑ€ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑƒÐ¼ÐµÑ‚ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ/ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ/Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð¾ Ð±Ñ€Ð¾Ð½ÑÑ… Ñ‡ÐµÑ€ÐµÐ· Ð°Ð´Ð¼Ð¸Ð½ Ð¿Ð°Ð½ÐµÐ»ÑŒ Django.
```
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**
ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð² Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ÑÐºÑƒÑŽ Ð¿Ð°Ð½ÐµÐ»ÑŒ Django, Ð²ÐµÑÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» ÑƒÐ¶Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ð² ÑÐ°Ð¼Ð¾Ð¼ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐµ.
Ðž Ð¿ÐµÑ€ÐµÑÐ¸Ñ‡ÐµÐ½Ð¸Ð¸ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ðµ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸Ð·-Ð·Ð° Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð‘Ð” Ð¾Ð¿Ð¸ÑÐ°Ð½Ð½Ð¾Ð³Ð¾ Ð²Ñ‹ÑˆÐµ.

ÐšÐ¾Ð´:
```python
@admin.register(Room)
class RoomAdmin(admin.ModelAdmin):
    list_display = ("id", "name", "price_per_day", "capacity")
    list_filter = ("price_per_day", "capacity")


@admin.register(Booking)
class BookingAdmin(admin.ModelAdmin):
    list_display = ("id", "room", "user", "date_start", "date_end")
    list_filter = ("room", "user", "date_start")
    search_fields = ("room__name", "user__username")
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð±Ñ€Ð¾Ð½ÐµÐ¹](images/api_show_booking.png)
---
## ÐžÑ‚Ð¼ÐµÐ½Ð° Ð±Ñ€Ð¾Ð½ÐµÐ¹
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
Ð‘Ñ€Ð¾Ð½Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ñ‹ ÐºÐ°Ðº ÑÐ°Ð¼Ð¸Ð¼ ÑŽÐ·ÐµÑ€Ð¾Ð¼, Ñ‚Ð°Ðº Ð¸ ÑÑƒÐ¿ÐµÑ€ÑŽÐ·ÐµÑ€Ð¾Ð¼.
```
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**
Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ð±Ñ€Ð¾Ð½Ð¸ Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð» Ð² Ð½ÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´ `destroy`.
Ð”Ð»Ñ Ñ‚Ð¾Ð³Ð¾ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð»Ð°Ð´ÐµÐ»Ð¸Ñ† Ð¸Ð»Ð¸ ÑÑƒÐ¿ÐµÑ€Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð» ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ `permission_classes = [IsOwnerOrSuperUser]`

```python
class IsOwnerOrSuperUser(BasePermission):
    def has_object_permission(self, request, view, obj):
        return request.user == obj.user or request.user.is_superuser
```
Ð¡ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `get_object` Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¾Ð±ÑŠÐµÐºÑ‚ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±ÑƒÐ´ÐµÐ¼ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ, Ð¸ Ð·Ð°Ñ€Ð°Ð½Ð¸Ðµ ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð¾Ð± ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒÑÑ ÑÐ¾ÑÐ»Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¾Ð±ÑŠÐµÐºÑ‚.

ÐšÐ¾Ð´:
```python
class UserBookingApi(RetrieveDestroyAPIView):
    queryset = Booking.objects.all().select_related("room")
    serializer_class = BookingSerializer
    permission_classes = [IsOwnerOrSuperUser]

    def destroy(self, request, *args, **kwargs):
        instance = self.get_object()
        response_text = f"Ð‘Ñ€Ð¾Ð½ÑŒ Ñ id {instance.id} ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÐ´Ð°Ð»ÐµÐ½Ð°."
        self.perform_destroy(instance)
        return Response({"detail": response_text}, status=status.HTTP_200_OK)
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð±Ñ€Ð¾Ð½Ð¸](images/api_delete_booking.png)
---
## ðŸ›‚Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
**Ð—Ð°Ð´Ð°Ñ‡Ð°**
```
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ¼ÐµÑ‚ÑŒ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ (Ð»Ð¾Ð³Ð¸Ð½Ð¸Ñ‚ÑŒÑÑ).
```
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**
Ð”Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð» jwt-Ñ‚Ð¾ÐºÐµÐ½Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ simplejwt.
Ð”Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð» ÑÑ€Ð¾Ðº Ð¶Ð¸Ð·Ð½Ð¸ Ð´Ð»Ñ `ACCESS_TOKEN` - 2 Ñ‡Ð°ÑÐ°.

Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸.
Ð”Ð²Ð° ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð°, Ð¾Ð´Ð¸Ð½ - Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¾ÐºÐµÐ½Ð°, Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ - Ð´Ð»Ñ ÐµÐ³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ.
```python
path("api/token/", TokenObtainPairView.as_view(), name="token_obtain_pair"),
path("api/token/refresh/", TokenRefreshView.as_view(), name="token_refresh")
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ](images/api_token.png)
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ](images/api_refresh_token.png)
Ð›Ð¾Ð³Ð¸ÐºÐ° Ð²Ñ‹Ñ…Ð¾Ð´Ð° Ð¿Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸ÑŽ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð°, Ð° Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ Ñ€ÐµÑˆÐ°ÐµÑ‚ÑÑ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°, Ñ‡ÐµÑ€ÐµÐ· Ð±ÑÐºÐµÐ½Ð´ Ñ€ÐµÑˆÐ°ÐµÑ‚ÑÑ ÐºÐ¾ÑÑ‚Ñ‹Ð»ÑÐ¼Ð¸ Ñ Ñ‡ÐµÑ€Ð½Ñ‹Ð¼ ÑÐ¿Ð¸ÑÐºÐ¾Ð¼.

Ð”Ð»Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚. Ð¢ÑƒÑ‚ Ñ Ð²ÑÑŽ Ð»Ð¾Ð³Ð¸ÐºÑƒ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¾Ð±ÐµÑ€Ð½ÑƒÐ» Ð² Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸ÑŽ - ÑÐ´ÐµÐ»Ð°Ð½Ð¾ ÑÑ‚Ð¾ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€ Ð¾ÑˆÐ¸Ð±ÐºÐµ Ð½Ðµ ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ð¹ Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ð±Ð´ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ð» 
Ð¾ÑˆÐ¸Ð±ÐºÑƒ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¸ Ñ‚Ð¾Ð¼ Ñ‡Ñ‚Ð¾ ÐµÐ³Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑƒÐ¶Ðµ Ð² Ð‘Ð”.

Ð”Ð¾Ð±Ð°Ð²Ð¸Ð» Ñ‚Ñ€Ð¾Ñ‚Ð»Ð¸Ð½Ð³ Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°.
ÐŸÑ€Ð¸ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¾Ñ‚Ð´Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾ÐºÐµÐ½ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð¼Ð¾Ð³ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼ ÑƒÐ¶ÐµÐ½ ÐºÐ°Ðº Ñ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼.

ÐšÐ¾Ð´:
```python
class UserRegistrationApi(generics.CreateAPIView):
    queryset = User.objects.all()
    permission_classes = [AllowAny]
    serializer_class = RegistrationSerializer
    throttle_classes = [UserRegistrationThrottle]

    def create(self, request, *args, **kwargs):
        serializer = self.serializer_class(data=request.data)
        try:
            with transaction.atomic():
                serializer.is_valid(raise_exception=True)
                user = serializer.save()
                refresh = RefreshToken.for_user(user)
                response_data = {
                    "access_token": str(refresh.access_token),
                }
                return Response(response_data, status=status.HTTP_201_CREATED)
        except ValidationError:
            raise

        except Exception as e:
            logger.error(
                "Ð’Ð¾Ð²Ñ€ÐµÐ¼Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¿Ñ€Ð¾Ð¸Ñ‰Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°.\n"
                f"data: {request.data}\n"
                f"error: {str(e)}"
            )
            return Response(
                {"detail": "ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð´Ð½ÐµÐµ."},
                status=status.HTTP_500_INTERNAL_SERVER_ERROR,
            )
```
![Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ](images/api_registration.png)
---

## ðŸ‘‹ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ÑÑ

### ÐÐ²Ñ‚Ð¾Ñ‚ÐµÑÑ‚Ñ‹
### ÐÐ½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð²
### Ð›Ð¸Ð½Ñ‚ÐµÑ€
### ÐÐ²Ñ‚Ð¾Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð´Ð°
### Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð²
### Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ðº Ð·Ð°Ð¿ÑƒÑÐºÑƒ